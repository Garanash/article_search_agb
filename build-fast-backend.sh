#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏ –±—ç–∫–µ–Ω–¥–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º BuildKit
echo "üöÄ –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞ —Å BuildKit..."

# –í–∫–ª—é—á–∞–µ–º BuildKit
export DOCKER_BUILDKIT=1

# –°–æ–±–∏—Ä–∞–µ–º –±—ç–∫–µ–Ω–¥ —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
echo "üì¶ –°–æ–±–∏—Ä–∞–µ–º –±—ç–∫–µ–Ω–¥..."
docker-compose build --parallel backend

# –ó–∞–ø—É—Å–∫–∞–µ–º –±—ç–∫–µ–Ω–¥
echo "‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫–∞–µ–º –±—ç–∫–µ–Ω–¥..."
docker-compose up -d backend

echo "‚úÖ –ë—ç–∫–µ–Ω–¥ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω!"
echo "üåê –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000"
echo "üìä –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: http://localhost:8000/docs"
